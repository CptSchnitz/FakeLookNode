{
  "script": {
    "source": "if (!ctx._source.likedBy.contains(params.userId)){ctx._source.likedBy.add(params.userId);ctx._source.likes += 1;}else{ctx.op = \"none\";}",
    "lang": "painless"
  }
}
